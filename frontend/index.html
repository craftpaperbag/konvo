<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>konvo - Convolution Visualizer</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>konvo</h1>
      <p>ブラウザ上で畳み込み計算を一歩ずつ観察できるツールです。</p>
    </header>

    <main class="layout">
      <section class="panel" aria-labelledby="source-title">
        <h2 id="source-title">元画像</h2>
        <div id="dropzone" class="dropzone" role="button" tabindex="0">
          <p>画像をドラッグ＆ドロップするか、クリックして選択してください。</p>
          <input type="file" id="file-input" accept="image/*" hidden />
        </div>
        <canvas id="source-canvas" width="100" height="100" aria-label="元画像のプレビュー"></canvas>
      </section>

      <section class="panel" aria-labelledby="kernel-title">
        <h2 id="kernel-title">カーネル設定</h2>
        <div class="kernel-grid" id="kernel-grid"></div>
        <div class="kernel-options">
          <label>
            正規化
            <input type="checkbox" id="normalize-toggle" checked />
          </label>
          <label>
            インターバル (ms)
            <input
              type="number"
              id="interval-input"
              min="0"
              step="10"
              value="50"
            />
          </label>
        </div>
        <div class="preset-buttons">
          <button type="button" data-preset="identity">恒等</button>
          <button type="button" data-preset="sharpen">シャープ</button>
          <button type="button" data-preset="edge">エッジ</button>
          <button type="button" data-preset="blur">ぼかし</button>
        </div>
        <div class="controls">
          <button id="play-btn" type="button">再生</button>
          <button id="pause-btn" type="button" disabled>一時停止</button>
          <button id="reset-btn" type="button" disabled>リセット</button>
        </div>
        <div class="status">
          <progress id="progress" max="1" value="0"></progress>
          <span id="status-text">画像を読み込んでください。</span>
        </div>
      </section>

      <section class="panel" aria-labelledby="result-title">
        <h2 id="result-title">結果</h2>
        <canvas id="result-canvas" width="100" height="100" aria-label="畳み込みの結果"></canvas>
      </section>
    </main>

    <footer>
      <small>
        © konvo ·
        <a
          href="https://github.com/craftpaperbag/konvo"
          target="_blank"
          rel="noopener noreferrer"
          >このツールについて（GitHubを開きます）</a
        >
      </small>
    </footer>

    <script src="app.js" type="module"></script>
  </body>
</html>
